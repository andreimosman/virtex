<html>
<head>
<title>::.. Virtex Admin - Área de Gerenciamento ..::</title>
<link href="template/default/estilos1.css" rel="stylesheet" type="text/css">
</head>
<body leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">



<table width="100%" height="100%" border="0" cellpadding="0" cellspacing="0">
  <tr>
    <td align="center" valign="top"><table width="100%" border="0" cellspacing="0" cellpadding="0">
        <tr>
          <td>{ include file='menu_principal.html' }</td>
        </tr>
        <tr>
          <td height="100%" align="center" valign="middle"><table width="100%" border="0" cellspacing="0" cellpadding="0">
              <tr>
                <td>&nbsp;</td>
              </tr>
              <tr>
                <td align="center" valign="middle"><p><font size="2" face="Verdana, Arial, Helvetica, sans-serif"><strong>
                  <h1>Cadastro de Cliente</h1>
                  </strong></font><p></p>
                  <form action="{$smarty.server.PHP_SELF}" method="post" name=cadastro id="cadastro">
                    <input type="hidden" name="op" value="{$op}">
                     <input type="hidden" name="id_cliente" value="{$id_cliente}">
                     <input type="hidden" name="acao" value="{$acao}">
					 { literal }
<!-- INICIO - VALIDAÇÃO DE FORMULARIO -->
	 <script>
		function validaNome(){
           d = document.cadastro;
           //validar nome
           if (d.nome_razao.value == ""){
                     alert("O campo " + d.nome_razao.name + " deve ser preenchido!");
                     d.nome_razao.focus();
                     return false;
           }
}

function validaEmail(){
          d = document.cadastro;
		 //validar email
         if (d.email.value == ""){
                   alert("O campo " + d.email.name + " deve ser preenchido!");
                   d.email.focus();
         }
         //validar email(verificao de endereco eletrônico)
         parte1 = d.email.value.indexOf("@");
         parte2 = d.email.value.indexOf(".");
         parte3 = d.email.value.length;
         if (!(parte1 >= 3 && parte2 >= 6 && parte3 >= 9)) {
                   alert ("O campo " + d.email.name + " deve ser conter um endereco eletronico!");
                   d.email.focus();
                   return false;
         }
}


function validaData(){
         //validar data de nascimento
         erro=0;
         hoje = new Date();
         anoAtual = hoje.getFullYear();
         barras = d.data.value.split("/");
         if (barras.length == 3){
                   dia = barras[0];
                   mes = barras[1];
                   ano = barras[2];
                   resultado = (!isNaN(dia) && (dia > 0) && (dia < 32)) && (!isNaN(mes) && (mes > 0) && (mes < 13)) && (!isNaN(ano) && (ano.length == 4) && (ano <= anoAtual && ano >= 1900));
                   if (!resultado) {
                             alert("Formato de data invalido!");
                             d.data.focus();
                             return false;
                   }
         } else {
                   alert("Formato de data invalido!");
                   d.data.focus();
                   return false;
         }
 }
 		function checa(){
          d = document.cadastro;

		if(d.tipo_pessoa.value=="F"){
		 	return validaCPF();
			}else{
			return validaCNPJ();
		}
 
 
         function validaCPF() {
                 cpf = d.cpf_cnpj.value;
                 erro = new String;
                 if (cpf.length < 11) erro += "Sao necessarios 11 digitos para verificacao do CPF! \n\n"; 
                 var nonNumbers = /\D/;
                 if (nonNumbers.test(cpf)) erro += "A verificacao de CPF suporta apenas numeros! \n\n"; 
                 if (cpf == "00000000000" || cpf == "11111111111" || cpf == "22222222222" || cpf == "33333333333" || cpf == "44444444444" || cpf == "55555555555" || cpf == "66666666666" || cpf == "77777777777" || cpf == "88888888888" || cpf == "99999999999"){
                        erro += "Numero de CPF invalido!"
               }
               var a = [];
               var b = new Number;
               var c = 11;
               for (i=0; i<11; i++){
                      a[i] = cpf.charAt(i);
                       if (i < 9) b += (a[i] * --c);
               }
               if ((x = b % 11) < 2) { a[9] = 0 } else { a[9] = 11-x }
               b = 0;
               c = 11;
               for (y=0; y<10; y++) b += (a[y] * c--); 
               if ((x = b % 11) < 2) { a[10] = 0; } else { a[10] = 11-x; }
               if ((cpf.charAt(9) != a[9]) || (cpf.charAt(10) != a[10])){
                       erro +="Digito verificador com problema!";
               }
               if (erro.length > 0){
                       alert(erro);
                       return false;
               }
              return true;

}
}
         function validaCNPJ() {
                 CNPJ = d.cpf_cnpj.value;
                 erro = new String;
                 if (CNPJ.length < 18) erro += "É necessario preencher corretamente o número do CNPJ! \n\n"; 
                 if ((CNPJ.charAt(2) != ".") || (CNPJ.charAt(6) != ".") || (CNPJ.charAt(10) != "/") || (CNPJ.charAt(15) != "-")){
                 if (erro.length == 0) erro += "É necessário preencher corretamente o número do CNPJ! \n\n";
                 }
                 //substituir os caracteres que não são números
               if(document.layers && parseInt(navigator.appVersion) == 4){
                       x = CNPJ.substring(0,2);
                       x += CNPJ. substring (3,6);
                       x += CNPJ. substring (7,10);
                       x += CNPJ. substring (11,15);
                       x += CNPJ. substring (16,18);
                       CNPJ = x; 
               } else {
                       CNPJ = CNPJ. replace (".","");
                       CNPJ = CNPJ. replace (".","");
                       CNPJ = CNPJ. replace ("-","");
                       CNPJ = CNPJ. replace ("/","");
               }
               var nonNumbers = /\D/;
               if (nonNumbers.test(CNPJ)) erro += "A verificação de CNPJ suporta apenas números! \n\n"; 
               var a = [];
               var b = new Number;
               var c = [6,5,4,3,2,9,8,7,6,5,4,3,2];
               for (i=0; i<12; i++){
                       a[i] = CNPJ.charAt(i);
                       b += a[i] * c[i+1];
 }
               if ((x = b % 11) < 2) { a[12] = 0 } else { a[12] = 11-x }
               b = 0;
               for (y=0; y<13; y++) {
                       b += (a[y] * c[y]); 
               }
               if ((x = b % 11) < 2) { a[13] = 0; } else { a[13] = 11-x; }
               if ((CNPJ.charAt(12) != a[12]) || (CNPJ.charAt(13) != a[13])){
                       erro +="Dígito verificador com problema!";
               }
               if (erro.length > 0){
                       alert(erro);
                       return false;
               } else {
                       alert("CNPJ valido!");
               }
               return true;
       }

					 </script>
<!-- INICIO - VALIDAÇÃO DE FORMULARIO -->					 
					 { /literal }


                    <table width="500" border="0" align="center" cellpadding="0" cellspacing="1" class=main>
                      <tr> 
                        <td colspan="2"><table width="100%" border="0" cellspacing="1" cellpadding="0">
                            <tr> 
                              <td width="47%"><p><font size="1" face="Verdana, Arial, Helvetica, sans-serif">Nome/Raz&atilde;o 
                                  Social</font></p></td>
                              <td width="38%"><p><font size="1" face="Verdana, Arial, Helvetica, sans-serif">Pessoa</font></p></td>
                            </tr>
                            <tr> 
                              <td><p><font size="1" face="Verdana, Arial, Helvetica, sans-serif"> 
                                  <input  name="Nome" type="text"  id="nome_razao" value="{$nome_razao}" size="50" maxlength="50" onBlur="return validaNome(this.value),this.style.backgroundColor='#FFFFFF'" onfocus="this.style.backgroundColor='#F7F9F7'" >
                                  </font></p></td>
                              <td><p><font size="1" face="Verdana, Arial, Helvetica, sans-serif"> 
                                  <SELECT name='tipo_pessoa'>
                                  {foreach key=id item=nome from=$lista_tp_pessoa}
                                     
                                    <option value='{$id}'{if $id == $tipo_pessoa}SELECTED{/if}>{$nome}</option>
                                  {/foreach}
                                  </SELECT>
                                  </font></p></td>
                            </tr>
                          </table></td>
                      </tr>
                      <tr> 
                        <td colspan="2"><table width="100%" border="0" cellspacing="1" cellpadding="0">
                            <tr> 
                              <td width="33%" height="14"> <p><font size="1" face="Verdana, Arial, Helvetica, sans-serif">RG</font></p></td>
                              <td width="33%"><p><font size="1" face="Verdana, Arial, Helvetica, sans-serif">Expedi&ccedil;&atilde;o 
                                  </font></p></td>
                              <td width="33%"><p><font size="1" face="Verdana, Arial, Helvetica, sans-serif">CPF/CNPJ 
                                  </font></p></td>
                            </tr>
                            <tr> 
                              <td><input  name="rg_inscr" type="text" id="rg_inscr" value="{$rg_inscr}" maxlength="20" onfocus="this.style.backgroundColor='#F7F9F7'" onBlur="this.style.backgroundColor='#FFFFFF'"></td>
                              <td><input  name="expedicao" type="text" id="expedicao" value="{$expedicao}" maxlength="10" onfocus="this.style.backgroundColor='#F7F9F7'" onBlur="this.style.backgroundColor='#FFFFFF'"></td>
                              <td><input  name="cpf_cnpj" type="text" id="cpf_cnpj" value="{$cpf_cnpj}" maxlength="25"  onchange="return checa(this.value)" onfocus="this.style.backgroundColor='#F7F9F7'" onBlur="this.style.backgroundColor='#FFFFFF'"> 
                              </td>
                            </tr>
                          </table></td>
                      </tr>
                      <tr> 
                        <td colspan="2"><table width="100%" border="0" cellspacing="1" cellpadding="0">
                            <tr> 
                              <td width="46%"><p><font size="1" face="Verdana, Arial, Helvetica, sans-serif">Email</font></p></td>
                              <td width="54%">&nbsp;</td>
                            </tr>
                            <tr> 
                              <td colspan="2"><input  name="email"type="text" id="email4" value="{$email}" size="50" maxlength="255" onchange="return validaEmail(this.value)" onfocus="this.style.backgroundColor='#F7F9F7'" onBlur="this.style.backgroundColor='#FFFFFF'"></td>
                            </tr>
                          </table></td>
                      </tr>
                      <tr> 
                        <td colspan="2"><table width="100%" border="0" cellspacing="0" cellpadding="1">
                            <tr> 
                              <td width="33%"><p><font size="1" face="Verdana, Arial, Helvetica, sans-serif">Endere&ccedil;o</font></p></td>
                              <td width="33%">&nbsp;</td>
                              <td width="34%">&nbsp;</td>
                            </tr>
                            <tr> 
                              <td colspan="3"><input  name="endereco"type="text"  id="endereco3" value="{$endereco}" size="70" maxlength="50" onfocus="this.style.backgroundColor='#F7F9F7'" onBlur="this.style.backgroundColor='#FFFFFF'"> 
                              </td>
                            </tr>
                            <tr> 
                              <td><p><font size="1" face="Verdana, Arial, Helvetica, sans-serif">Complemento 
                                  </font></p></td>
                              <td><p><font size="1" face="Verdana, Arial, Helvetica, sans-serif">Bairro<br>
                                  </font></p></td>
                              <td rowspan="2"><font size="1" face="Verdana, Arial, Helvetica, sans-serif">&nbsp;</font></td>
                            </tr>
                            <tr> 
                              <td><font size="1" face="Verdana, Arial, Helvetica, sans-serif"> 
                                <input  name="complemento"type="text"  id="complemento4" value="{$complemento}" maxlength="20" onfocus="this.style.backgroundColor='#F7F9F7'" onBlur="this.style.backgroundColor='#FFFFFF'">
                                </font></td>
                              <td><font size="1" face="Verdana, Arial, Helvetica, sans-serif"> 
                                <input  name="bairro" type="text"  id="bairro2" value="{$bairro}" maxlength="15" onfocus="this.style.backgroundColor='#F7F9F7'" onBlur="this.style.backgroundColor='#FFFFFF'">
                                </font></td>
                            </tr>
                            <tr> 
                              <td><p><font size="1" face="Verdana, Arial, Helvetica, sans-serif">Cidade 
                                  </font></p></td>
                              <td><p><font size="1" face="Verdana, Arial, Helvetica, sans-serif">Estado</font></p></td>
                              <td><p><font size="1" face="Verdana, Arial, Helvetica, sans-serif">CEP</font></p></td>
                            </tr>
                            <tr> 
                              <td><font size="1" face="Verdana, Arial, Helvetica, sans-serif"> 
                                <input  name="cidade" type="text"  id="cidade" value="{$cidade}" maxlength="20" onfocus="this.style.backgroundColor='#F7F9F7'" onBlur="this.style.backgroundColor='#FFFFFF'">
                                </font></td>
                              <td><font size="1" face="Verdana, Arial, Helvetica, sans-serif"> 
                                <select name='estado' >
                                {foreach key=id item=nome from=$lista_estados}
                                   
                                  <option value='{$id}'{if $id == $estado}SELECTED{/if}>{$nome}</option>
                                {/foreach}
                                </select>
                                </font></td>
                              <td><font size="1" face="Verdana, Arial, Helvetica, sans-serif"> 
                                <input  name="cep"type="text"  id="cep2" value="{$cep}" maxlength="10" onfocus="this.style.backgroundColor='#F7F9F7'" onBlur="this.style.backgroundColor='#FFFFFF'">
                                </font></td>
                            </tr>
                            <tr> 
                              <td><p><font size="1" face="Verdana, Arial, Helvetica, sans-serif">Telefone 
                                  Comercial </font></p></td>
                              <td><p><font size="1" face="Verdana, Arial, Helvetica, sans-serif">Telefone 
                                  Residencial </font></p></td>
                              <td><p><font size="1" face="Verdana, Arial, Helvetica, sans-serif">Celular 
                                  <br>
                                  </font></p></td>
                            </tr>
                            <tr> 
                              <td><font size="1" face="Verdana, Arial, Helvetica, sans-serif"> 
                                <input  name="fone_comercial" type="text"  id="fone_comercial" value="{$fone_comercial}" maxlength="15" onfocus="this.style.backgroundColor='#F7F9F7'" onBlur="this.style.backgroundColor='#FFFFFF'">
                                </font></td>
                              <td><font size="1" face="Verdana, Arial, Helvetica, sans-serif"> 
                                <input  name="fone_residencial" type="text"  id="fone_residencial" value="{$fone_residencial}" maxlength="15" onfocus="this.style.backgroundColor='#F7F9F7'" onBlur="this.style.backgroundColor='#FFFFFF'">
                                </font></td>
                              <td><font size="1" face="Verdana, Arial, Helvetica, sans-serif"> 
                                <input  name="fone_celular"type="text"  id="fone_celular" value="{$fone_celular}" maxlength="15" onfocus="this.style.backgroundColor='#F7F9F7'" onBlur="this.style.backgroundColor='#FFFFFF'">
                                </font></td>
                            </tr>
                          </table></td>
                      </tr>
                      <tr> 
                        <td colspan="2"><table width="100%" border="0" cellspacing="1" cellpadding="0">
                            <tr> 
                              <td colspan="3"><font size="1" face="Verdana, Arial, Helvetica, sans-serif">Contato 
                                <br>
                                </font> <input  name="contato" type="text"  id="contato" value="{$contato}" size="50" maxlength="20" onfocus="this.style.backgroundColor='#F7F9F7'" onBlur="this.style.backgroundColor='#FFFFFF'"></td>
                            </tr>
                            <tr> 
                              <td width="33%">&nbsp; </td>
                              <td width="33%">&nbsp;</td>
                              <td width="33%">&nbsp;</td>
                            </tr>
                          </table></td>
                      </tr>
                      <tr> 
                        <td colspan="2"><table width="100%" border="0" cellspacing="1" cellpadding="0">
                            <tr> 
                              <td colspan="3"><p><font size="1" face="Verdana, Arial, Helvetica, sans-serif">Outras 
                                  Informa&ccedil;&otilde;es</font></p></td>
                            </tr>
                            <tr> 
                              <td width="33%"><p><font size="1" face="Verdana, Arial, Helvetica, sans-serif">Banco<br>
                                  <input  name="banco" type="text"  id="banco" value="{$banco}" maxlength="20" onfocus="this.style.backgroundColor='#F7F9F7'" onBlur="this.style.backgroundColor='#FFFFFF'">
                                  </font></p></td>
                              <td width="33%"><p><font size="1" face="Verdana, Arial, Helvetica, sans-serif">Ag&ecirc;ncia<br>
                                  <input  name="agencia" type="text"  id="agencia" value="{$agencia}" maxlength="10" onfocus="this.style.backgroundColor='#F7F9F7'" onBlur="this.style.backgroundColor='#FFFFFF'">
                                  </font></p></td>
                              <td width="33%"><p><font size="1" face="Verdana, Arial, Helvetica, sans-serif">Conta 
                                  Corrente<br>
                                  <input  name="conta_corrente" type="text"  id="conta_corrente3" value="{$conta_corrente}" maxlength="10" onfocus="this.style.backgroundColor='#F7F9F7'" onBlur="this.style.backgroundColor='#FFFFFF'">
                                  </font></p></td>
                            </tr>
                          </table></td>
                      </tr>
                      <tr> 
                        <td colspan="2"><table width="100%" border="0" cellspacing="1" cellpadding="0">
                            <tr> 
                              <td width="33%">&nbsp;</td>
                              <td width="33%">&nbsp;</td>
                              <td width="33%">&nbsp;</td>
                            </tr>
                            <tr> 
                              <td><p><font size="1" face="Verdana, Arial, Helvetica, sans-serif">Status 
                                  do Contrato<br>
                                  <select name='ativo'>
                               		 {foreach key=id item=nome from=$lista_ativo}
                              			 
                                    <option value='{$id}'{if $id == $ativo}SELECTED{/if}>{$nome}</option>
                               		 {/foreach}
                                  </select>
                                  </font></p></td>
                              <td><p><font size="1" face="Verdana, Arial, Helvetica, sans-serif">Data 
                                  de Pagamento<br>
                                  <select name='dia_pagamento'>
                             	  {foreach key=id item=nome from=$lista_dia_pagamento}
                              		 
                                    <option value='{$id}'{if $id == $dia_pagamento}SELECTED{/if}>{$nome}</option>
                               	  {/foreach}
                                  </select>
                                  </font></p></td>
                              <td>&nbsp;</td>
                            </tr>
                          </table></td>
                      </tr>
                      <tr> 
                        <td colspan="2"><table width="100%" border="0" cellspacing="1" cellpadding="0">
                            <tr> 
                              <td width="33%">&nbsp;</td>
                              <td width="33%">&nbsp;</td>
                              <td width="33%">&nbsp;</td>
                            </tr>
                            <tr> 
                              <td colspan="3"><p><font size="1" face="Verdana, Arial, Helvetica, sans-serif">Observa&ccedil;&otilde;es 
                                  </font></p></td>
                            </tr>
                            <tr> 
                              <td colspan="3"><textarea name="textarea" cols="80" rows="8" onfocus="this.style.backgroundColor='#F7F9F7'" onBlur="this.style.backgroundColor='#FFFFFF'">{$obs}
</textarea></td>
                            </tr>
                          </table></td>
                      </tr>
                      <tr> 
                        <td colspan="2"> <table width="100%" border="0" cellspacing="1" cellpadding="0">
                            <tr> 
                              <td width="33%">&nbsp;</td>
                              <td width="33%"><div align="center"> 
                                  <input name="cadastro_cliente" type="submit" id="cadastro_cliente2" value="Cadastrar &gt;&gt;">
                                </div></td>
                              <td width="33%">&nbsp;</td>
                            </tr>
                          </table></td>
                      </tr>
                      <tr> 
                        <td width="47%" bgcolor="#F7F9F7">&nbsp;</td>
                        <td width="53%">&nbsp;</td>
                      </tr>
                      <tr> 
                        <td width="47%">&nbsp;</td>
                        <td width="53%">&nbsp;</td>
                      </tr>
                    </table>
                  </form>
                  <p>&nbsp;</p></td>
              </tr>
            </table></td>
        </tr>
      </table></td>
  </tr>
  <tr>
    <td height="20" align="center" bgcolor="#BCD3C4"><table width="400" border="0" cellspacing="0" cellpadding="0">
        <tr>
          <td><div align="center"><font size="1" face="Verdana, Arial, Helvetica, sans-serif">&copy;
              Mosman Consultoria - Todos os Direitos Reservados</font></div></td>
        </tr>
      </table></td>
  </tr>
</table>
</body>


</html>
